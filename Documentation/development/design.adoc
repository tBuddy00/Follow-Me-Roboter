= Design: Follow-Me Fahrroboter
{localdatetime}
include::../_includes/default-attributes.inc.adoc[]
// Platzhalter für weitere Dokumenten-Attribute


== Allgemeine Informationen

.Das Diagramm beschreibt konkret den Aufbau vom Alphabot 2
image::Design_v3.png[]

== Ubuntu Server 22.04.03 LTS (64 bit)

Ubuntu Server ist eine Variante des Ubuntu-Betriebssystems, die speziell für den Einsatz auf Servern entwickelt wurde. + 
Ubuntu Server basiert auf dem Linux-Kernel, einem Open-Source-Betriebssystemkern. Dazu bietet es Stabilität, Sicherheit und Skalierbarkeit. +


== ROS II Humble 

ROS II Humble ist eine Weiterentwicklung des ursprünglichen ROS und wurde entwickelt, um die Anforderungen moderner Roboteranwendungen besser zu erfüllen. 

Es ist ein Open-Source-Framework, das Werkzeuge und Bibliotheken für die Entwicklung von Roboteranwendungen bereitstellt. 

ROS II unterstützt verschiedene Programmiersprachen, ermöglicht die Kommunikation zwischen verschiedenen Teilen eines Robotersystems und bietet Funktionen für die Sensordatenverarbeitung, Steuerung und Aktorsteuerung.

== Raspberry Pi 4 8GB

Der Raspberry Pi ist ein kostengünstiger, kleinen Computer, der vielseitig einsetzbar ist und gleichzeitig einfach zu bedienen ist.

Der Raspberry Pi ist eine kleine Platine, die alle 
wesentlichen Komponenten eines Computers enthält. Dazu gehören ein Prozessor, RAM, USB-Anschlüsse, HDMI-Ausgang, GPIO-Pins (General Purpose Input/Output), Ethernet-Anschluss und mehr, je nach Modell.

Der Raspberry Pi kann mit verschiedenen Betriebssystemen betrieben werden, darunter Raspbian (jetzt als Raspberry Pi OS bekannt), Ubuntu und andere Linux-Distributionen.

Anwendungsbereiche des Raspberry Pi`s sind Desktop-Computing, Heimautomatisierung, Robotik, IoT-Projekte (Internet der Dinge), Bildungszwecke, Serveranwendungen, Mediacenter und vieles mehr.

== Alphabot 2 

Der Alphabot 2 ist für die Verwendung mit Raspberry Pi konzipiert.
Der Alphbapt 2 beinhaltet bereits sehr umfangreiche Funktionen bzw. Fähigkeiten, wie z.B. die Linienverfolgung, Hindernisvermeidung, Bluetooth/Infrarot/WiFi-Fernbedienung, Videoüberwachung etc.


== camera_opencv_node

Die camera_opencv_node empfängt Bilder von der /image_raw-Topic, konvertiert sie mithilfe von cv_bridge in OpenCV-Bilder und leitet sie zur Bilderkennung weiter. Die resultierenden Positionsdaten, im Format [x-Koordinate, y-Koordinate, Höhe der Person, Breite der Person, Gesamthöhe des Bildes, Gesamtbreite des Bildes], werden als /position_data-Topic veröffentlicht.

== Bilderkennungsalgorithmus

Details bei Johan

== movement_control_node

Die movement_control_node empfängt Daten von der /position_data-Topic, verarbeitet sie mittels der Calculate-Funktion, berechnet den Mittelpunkt der Person und einen proportionalen Wert zur Gesamtgröße des Bildes. Das resultierende genormte Koordinatensystem wird als pan_tilt-Topic veröffentlicht.

== pan_tilt

Die pan_tilt-Node empfängt Signale von der pan_tilt-Topic, verarbeitet sie in ein servo-kompatibles Format und sendet das Signal mithilfe der smbus-Bibliothek an die Servos.

== motion

Die motion-Node empfängt Signale von der cmd_vel-Topic und wandelt sie in für GPIO verständliche Signale um.

== ros2_v4ls_camera

Das ros2_v4ls_camera-Package wird aufgrund seiner Simplizität und Einfachheit verwendet. Es hat sich als erste funktionierende Lösung herausgestellt, nachdem Probleme mit link:https://www.raspberrypi.com/documentation/computers/camera_software.html[Libcamera, Raspicam] und link:https://github.com/UbiquityRobotics/raspicam_node[raspicam_node] auftraten. Die direkte Erzeugung der Topic /image_raw und die einfache Installation machen es zu einer optimalen Wahl.

== Cv_bridge

link:https://github.com/ros-perception/vision_opencv/tree/rolling/cv_bridge[Cv_bridge] wird aufgrund seiner Schlichtheit als eine der besten Möglichkeiten verwendet, ROS2-Bilder in OpenCV-Bilder umzuwandeln.

== RPI.GPIO Bibliothek

RPI.GPIO wird aufgrund seiner Kompatibilität mit Ubuntu 22.04 als GPIO-Bibliothek verwendet.

== Smbus Bibliothek

Smbus wird als Standard-Servo-Bibliothek verwendet und ist kompatibel mit dem Alphabot.